{% extends 'manage/basic.html' %}

{% block page_name %}
    <a href="javascript: if (history.length <= 1) {location.replace('manage/news');} else {history.back();}" class="text-decoration-none text-warning h6">
        <i class="fas fa-arrow-left"></i> 返回
    </a>
{% endblock %}

{% block page_content %}
    <div class="row">
        <div class="col col-md-10 col-xl-6">
            <form method="post">
                <div class="form-group">
                    <label>标题</label>
                    <input type="text" name="title" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>摘要</label>
                    <input type="text" name="summary" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>内容</label>
                    <textarea name="content" id="editor" class="form-control"></textarea>
                </div>
                <button class="btn btn-warning" type="submit">保存</button>
            </form>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script src="{{ url_for('static', filename='ckeditor/ckeditor.js') }}"></script>
    <script type="text/javascript">
        ClassicEditor.create(document.querySelector( '#editor' ),{
            ckfinder: {
                uploadUrl: "{{ url_for('.article_upload') }}"
            }
        });
    </script>
{% endblock %}